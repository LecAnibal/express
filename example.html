<!DOCTYPE html>
<html>
<head>
<script>
let url = 'http://localhost:9293/test'
var objectJson= null;

function getBreadcom(obj, visited){
  if(obj.isVisited){
   visited.push(obj);
  }
  if (obj.links.length>0){
    for (var oo in obj.links) {
      getBreadcom(obj.links[oo], visited);
    }
  }
  return visited;
}

function getBreadcomFuture( obj, future){
  if(!obj.isVisited){
   future.push(obj);
  }
  if (obj.links.length > 0){
    for (var oo in obj.links) {
      getBreadcomFuture(obj.links[oo],future);
   }
  }
  
  return future;
}
 

 fetch(url)
.then(res => res.json())
.then((out) => {
  objectJson =  out;
  var text = '';
  var visited =[];
  var future = []; 

// listas de datos 
visited = getBreadcom(objectJson,visited);
future  = getBreadcomFuture(visited[visited.length - 1],future);


//construccion de URLS 
var vistedURL='';
 for (var test in visited){
    vistedURL = vistedURL+"  <li>  <a href='"+visited[test].url+"''>"+ visited[test].displayName +"</a> </li>"
 }

 var futureURL='';
 for (var test in  future){
    futureURL =futureURL+"  <li>    <a href='"+future[test].url+"''>" +future[test].displayName +"</a></li> "
 }

//replace in the html  
  document.getElementById("demo").innerHTML = vistedURL ;
  document.getElementById("demo2").innerHTML = futureURL ;
})
.catch(err => console.error(err));

</script>





</head>
<body>

<h2>Convert a string into a date object.</h2>

<ul id="demo"></ul>

<ul id="demo2"></ul>

</body>
</html>